<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="invoice_line_unit_price_visibility_check" inherit_id="account.report_invoice_document">
		<xpath expr="//table[@name='invoice_line_table']/thead/tr/th[3]" position="replace">
            <t t-set="lines" t-value="o.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)"/>
            <t t-set="price_visibility" t-value="lines.filtered(lambda x:not x.sale_line_cb and x.account_id)"/>
            <t t-if="price_visibility">
                <th name="th_priceunit" t-attf-class="text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                    <span>Eenheidsprijs</span>
                </th>
            </t>
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']/tbody//tr[1]//td[3]" position="replace">
            <t t-set="price_visibility" t-value="lines.filtered(lambda x: not x.sale_line_cb and x.account_id)"/>
            <t t-if="price_visibility">
                <td style="text-align:right" t-attf-class="{{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                    <t t-if="not line.sale_line_cb">
                        <span class="text-nowrap" t-field="line.price_unit"/><span> â‚¬</span>
                    </t>
                </td>
            </t>
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']/thead/tr/th[5]" position="replace">
            <t t-set="lines" t-value="o.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)"/>
            <t t-set="price_visibility" t-value="lines.filtered(lambda x:not x.sale_line_cb and x.account_id)"/>
            <t t-if="price_visibility">
                <th name="th_subtotal" class="text-right">
                    <t t-if="showTaxes==False">
                                            <span>Bedrag</span>
                                        </t>
                                        <t t-if="showTaxes==True">
                                            <span>Totale prijs</span>
                                        </t>
                </th>
            </t>
        </xpath>

        <xpath expr="//table[@name='invoice_line_table']/tbody//tr[1]//td[hasclass('o_price_total')]" position="replace">
            <t t-set="price_visibility" t-value="lines.filtered(lambda x: not x.sale_line_cb and x.account_id)"/>
            <t t-if="price_visibility">
            <td class="text-right o_price_total" style="text-align:right">
                <t t-if="not line.sale_line_cb">
                    <t t-if="showTaxes==False">
                                            <span t-field="line.price_subtotal"/>
                                        </t>
                                        <t t-if="showTaxes==True">
                                            <span t-field="line.price_total"/>
                                        </t>
                </t>
            </td>
            </t>
        </xpath>
    </template>
</odoo>